lass Coin {
    private int coinId;
    private float rate;

    float marketCap;
    float circulatingSupply;

    public Coin(int coinId, float rate) {
        this.coinId = coinId;
        this.rate = rate;
    }

    public int getCoinId() { return coinId; }
    public float getRate() { return rate; }
    public void setRate(float rate) { this.rate = rate; }
    public float getMarketCap() {
        return marketCap;
    }
    public float getCirculatingSupply() {
        return circulatingSupply;
    }
}

abstract class Wallet {
    protected int walletId;
    protected float balance;
    protected Date creationDate;
    protected Date lastActivityDate;
    protected String status;

    public Wallet(int walletId, float balance, Date creationDate) {
        this.walletId = walletId;
        this.balance = balance;
        this.creationDate = creationDate;
        this.status = "active";
    }

    public void deposit(float amount) {
        if (status.equals("active")) {
            this.balance += amount;
            this.lastActivityDate = new Date();
        }
    }

    public void withdraw(float amount) {
        if (status.equals("active") && balance >= amount) {
            this.balance -= amount;
            this.lastActivityDate = new Date();
        }
    }

    public int getWalletId() { return walletId; }
    public float getBalance() { return balance; }
    public String getStatus() { return status; }
    public void setStatus(String status) { this.status = status; }

    public Date getCreationDate() {
        return creationDate;
    }

    public Date getLastActivityDate() {
        return lastActivityDate;
    }

    public void setWalletId(int walletId) {
        this.walletId = walletId;
    }

    public void setBalance(float balance) {
        this.balance = balance;
    }

    public void setCreationDate(Date creationDate) {
        this.creationDate = creationDate;
    }

    public void setLastActivityDate(Date lastActivityDate) {
        this.lastActivityDate = lastActivityDate;
    }

}

class SpotWallet extends Wallet {
    private String currency;
    private float maxBalanceLimit;

    public SpotWallet(int walletId, float balance, Date creationDate, String currency, float maxBalanceLimit) {
        super(walletId, balance, creationDate);
        this.currency = currency;
        this.maxBalanceLimit = maxBalanceLimit;
    }

    public String getCurrency() { return currency; }
    public void setCurrency(String currency) { this.currency = currency; }
    public float getMaxBalanceLimit() { return maxBalanceLimit; }
    public void setMaxBalanceLimit(float maxBalanceLimit) { this.maxBalanceLimit = maxBalanceLimit; }
}

class FiatWallet extends Wallet {
    private List<Owning> ownings;

    public FiatWallet(int walletId, float balance, Date creationDate, List<Owning> ownings) {
        super(walletId, balance, creationDate);
        this.ownings = ownings;
    }

    private int generateOwningId() {
        return ownings.size() + 1;
    }

    public List<Owning> getOwnings() { return ownings; }

}


class Owning {
    private int owningId;
    private float amount;
    private Coin coin;

    Date purchaseDate;
    float currentValue;
    float profitLoss;

    public Owning(int owningId, float amount, Coin coin) {
        this.owningId = owningId;
        this.amount = amount;
        this.coin = coin;
    }

    public int getOwningId() { return owningId; }
    public float getAmount() { return amount; }
    public void setAmount(float amount) { this.amount = amount; }
    public Coin getCoin() { return coin; }

    public void setCoin(Coin coin) { this.coin = coin; }
    public Date getPurchaseDate() { return purchaseDate; }
    public void setPurchaseDate(Date purchaseDate) { this.purchaseDate = purchaseDate; }
    public float getCurrentValue() { return currentValue; }
    public void setCurrentValue(float currentValue) { this.currentValue = currentValue; }
    public float getProfitLoss() { return profitLoss; }
    public void setProfitLoss(float profitLoss) {
        this.profitLoss = profitLoss;
    }
}

class User {
    private int userId;
    private String userType;
    private String name;
    private Date birthDate;
    private String address;
    private String phone;
    private String email;
    private SpotWallet spotWallet;
    private FiatWallet fiatWallet;
    private BankDetails bankDetails;
    private List<Transaction> transactions;


    Date accountCreationDate;
    Date lastLoginDate;
    String accountStatus;

    public User(int userId,String userType,String name,Date birthDate,String phone,String email,SpotWallet spotWallet,FiatWallet fiatWallet,BankDetails bankDetails,List<Transaction> transactions,Date accountCreationDate,Date lastLoginDate,String accountStatus)
    {
        this.userId = userId;
        this.userType = userType;
        this.name = name;
        this.birthDate = new Date();
        this.accountCreationDate = new Date();
        this.accountStatus = "active";
        this.lastLoginDate = new Date();
        this.spotWallet = spotWallet;
        this.fiatWallet = fiatWallet;
        this.bankDetails = bankDetails;
        this.transactions = new ArrayList<>();


    }

    public int getUserId() { return userId; }
    public String getUserType() { return userType; }
    public SpotWallet getSpotWallet() { return spotWallet; }
    public FiatWallet getFiatWallet() { return fiatWallet; }
    public List<Transaction> getTransactions() { return transactions; }
    public Date getAccountCreationDate() { return accountCreationDate; }
    public Date getLastLoginDate() { return lastLoginDate; }
    public String getAccountStatus() { return accountStatus; }
    public String getName() { return name; }
    public Date getBirthDate() { return birthDate; }
    public String getAddress() { return address; }
    public String getPhone() { return phone; }
    public String getEmail() { return email; }

    public void setUserId(int userId) {this.userId = userId;}
    public void setUserType(String userType) {this.userType = userType;}
    public void setSpotWallet(SpotWallet spotWallet) {this.spotWallet = spotWallet;}

    public void setAccountCreationDate(Date accountCreationDate) {
        this.accountCreationDate = accountCreationDate;
    }
    public void setLastLoginDate(Date lastLoginDate) {
        this.lastLoginDate = lastLoginDate;
    }
    public void setAccountStatus(String accountStatus) {
        this.accountStatus = accountStatus;
    }
    public void setName(String name) {
        this.name = name;
    }
    public void setBirthDate(Date birthDate) {
        this.birthDate = birthDate;
    }
    public void setAddress(String address) {
        this.address = address;

    }
    public void setPhone(String phone) {
        this.phone = phone;
    }
    public void setEmail(String email) {
        this.email = email;
    }

    public BankDetails getBankDetails() {
        return bankDetails;
    }
    public void setBankDetails(BankDetails bankDetails) {
        this.bankDetails = bankDetails;

    }

    public void setFiatWallet(FiatWallet fiatWallet) {
        this.fiatWallet = fiatWallet;
    }

    public void setTransactions(List<Transaction> transactions) {
        this.transactions = transactions;
    }

}

class BankDetails {
    private int detailsId;
    private String cardNumber;
    private Date expiryDate;
    private String bankName;
    private String accountHolderName;
    private String billingAddress;

    public BankDetails(int detailsId, String cardNumber, Date expiryDate, String bankName, String accountHolderName, String billingAddress) {
        this.detailsId = detailsId;
        this.cardNumber = cardNumber;
        this.expiryDate = expiryDate;
        this.bankName = bankName;
        this.accountHolderName = accountHolderName;
        this.billingAddress = billingAddress;
    }

    public String getBankName() { return bankName; }
    public String getAccountHolderName() { return accountHolderName; }
    public void setBillingAddress(String billingAddress) {this.billingAddress = billingAddress;}
    public void setDetailsId(int detailsId) { this.detailsId = detailsId;}
    public int getDetailsId() { return detailsId; }
    public void setCardNumber(String cardNumber) { this.cardNumber = cardNumber; }
    public String getCardNumber() { return cardNumber; }
    public void setExpiryDate(Date expiryDate) { this.expiryDate = expiryDate; }
    public Date getExpiryDate() { return expiryDate; }
    public void setBankName(String bankName) { this.bankName = bankName; }
    public String getBillingAddress() {return billingAddress;}
    public void setAccountHolderName(String accountHolderName) { this.accountHolderName = accountHolderName; }


}

class Transaction {
    private int transactionId;
    private User user;
    private float amount;
    private Date timestamp;
    private String transactionType;  // "buy", "sell", "transfer"
    private Coin coin;  // Optional, only used for crypto transactions
    private float fees;
    private String status;  // "pending", "completed", "failed"

    public Transaction(int transactionId, User user, float amount, Date timestamp, String transactionType, Coin coin) {
        this.transactionId = transactionId;
        this.user = user;
        this.amount = amount;
        this.timestamp = timestamp;
        this.transactionType = transactionType;
        this.coin = coin;
        this.fees = calculateFees(amount);
        this.status = "pending";
    }

    private float calculateFees(float amount) {
        return amount * 0.01f;  // Example fee calculation
    }

    public void completeTransaction() {
        this.status = "completed";
    }

    // Getters and setters
    public int getTransactionId() { return transactionId; }
    public User getUser() { return user; }
    public String getStatus() { return status; }
}

class Comment {
    private int commentId;
    private int userId;
    private String comment;

    Date timestamp;
    int parentCommentId;
    int likesCount;
    float userRating;


    public Comment(int commentId, int userId, String comment,Date timestamp, int parentCommentId, int likesCount, float userRating) {
        this.commentId = commentId;
        this.userId = userId;
        this.comment = comment;
        this.timestamp = timestamp;
        this.parentCommentId = parentCommentId;
        this.likesCount = likesCount;
        this.userRating = userRating;
    }

    public Date getTimestamp() {
        return timestamp;
    }

    public int getCommentId() {
        return commentId;
    }

    public String getComment() {
        return comment;
    }

    public void setComment(String comment) {
        this.comment = comment;
    }

    public void setCommentId(int commentId) {
        this.commentId = commentId;
    }

    public int getParentCommentId() {
        return parentCommentId;
    }

    public float getUserRating() {
        return userRating;
    }

    public int getLikesCount() {
        return likesCount;
    }

    public int getUserId() {
        return userId;
    }

    public void setParentCommentId(int parentCommentId) {
        this.parentCommentId = parentCommentId;
    }

    public void setLikesCount(int likesCount) {
        this.likesCount = likesCount;
    }

    public void setTimestamp(Date timestamp) {
        this.timestamp = timestamp;
    }

    public void setUserId(int userId) {
        this.userId = userId;
    }

    public void setUserRating(float userRating) {
        this.userRating = userRating;
    }

}

class Notification {
    private int notificationId;
    private String notificationType;
    private User user;
    private String message;
    private Date timestamp;

    public Notification(int notificationId, String notificationType, User user, String message) {
        this.notificationId = notificationId;
        this.notificationType = notificationType;
        this.user = user;
        this.message = message;
        this.timestamp = new Date();
    }

    public void markAsRead() {

    }
    public int getNotificationId() { return notificationId; }
    public String getNotificationType() { return notificationType; }
    public User getUser() { return user; }
    public String getMessage() { return message; }
    public Date getTimestamp() { return timestamp; }
    public void setNotificationId(int notificationId) { this.notificationId = notificationId; }
    public void setNotificationType(String notificationType) { this.notificationType = notificationType; }
    public void setUser(User user) { this.user = user; }
    public void setMessage(String message) { this.message = message; }
    public void setTimestamp(Date timestamp) { this.timestamp = timestamp; }

}

class Feedback {
    private int feedbackId;
    private String subject;
    private String feedbackMessage;
    private int priorityLevel;
    private String status;  // "resolved", "pending"
    private String response;

    public Feedback(int feedbackId, String subject, String feedbackMessage, int priorityLevel) {
        this.feedbackId = feedbackId;
        this.subject = subject;
        this.feedbackMessage = feedbackMessage;
        this.priorityLevel = priorityLevel;
        this.status = "pending";
    }

    public void respond(String response) {
        this.response = response;
        this.status = "resolved";
    }

    public void setSubject(String subject) {
        this.subject = subject;
    }
    public void setFeedbackMessage(String feedbackMessage) {
        this.feedbackMessage = feedbackMessage;
    }
    public void setPriorityLevel(int priorityLevel) {
        this.priorityLevel = priorityLevel;
    }
    public void setStatus(String status) {
        this.status = status;
    }
    public String getStatus() {
        return status;
    }
    public String getResponse() {
        return response;
    }
    public String getSubject() {
        return subject;
    }
    public String getFeedbackMessage() {
        return feedbackMessage;
    }
    public int getPriorityLevel() {
        return priorityLevel;
    }
    public int getFeedbackId() {
        return feedbackId;
    }

    public void setFeedbackId(int feedbackId) {
        this.feedbackId = feedbackId;
    }

    public void setResponse(String response) {
        this.response = response;
    }

}

class Referral {
    private User fromUser;
    private User toUser;

    Date referralDate;
    float bonusAmount;
    String status;
    boolean referrerRewardClaimed;
    String referredUserActivityStatus;


    public Referral(User fromUser, User toUser,Date referralDate,float bonusAmount,String status,boolean referrerRewardClaimed,String referredUserActivityStatus) {
        this.fromUser = fromUser;
        this.toUser = toUser;
        this.referralDate = referralDate;
        this.bonusAmount = bonusAmount;
        this.status = status;
        this.referrerRewardClaimed = referrerRewardClaimed;
        this.referredUserActivityStatus = referredUserActivityStatus;
    }

    public Date getReferralDate() {
        return referralDate;
    }

    public float getBonusAmount() {
        return bonusAmount;
    }
    public String getStatus() {
        return status;
    }
    public boolean isReferrerRewardClaimed() {
        return referrerRewardClaimed;
    }
    public String getReferredUserActivityStatus() {
        return referredUserActivityStatus;
    }

    public void setReferralDate(Date referralDate) {
        this.referralDate = referralDate;
    }

    public void setBonusAmount(float bonusAmount) {
        this.bonusAmount = bonusAmount;
    }
    public void setStatus(String status) {
        this.status = status;

    }
    public void setReferredUserActivityStatus(String referredUserActivityStatus) {
        this.referredUserActivityStatus = referredUserActivityStatus;
    }

    public void setReferrerRewardClaimed(boolean referrerRewardClaimed) {
        this.referrerRewardClaimed = referrerRewardClaimed;
    }

    public User getFromUser() {
        return fromUser;
    }
    public void setFromUser(User fromUser) {
        this.fromUser = fromUser;

    }
    public User getToUser() {
        return toUser;
    }
    public void setToUser(User toUser) {
        this.toUser = toUser;
    }
}

class APIController {
    private String apiKey;

    public APIController(String apiKey,Date lastRequestTimestamp,int rateLimit,String apiEndpoint,String version,List<String> requestHistory) {
        this.apiKey = apiKey;

    }

    public void setApiKey(String apiKey) {
        this.apiKey = apiKey;
    }


    public String getApiKey() {
        return apiKey;
    }

}

class Transfer {
    private int senderId;
    private int receiverId;
    private Coin coin;
    private float amount;

    float transferFee;
    Date transferDate;
    String transferStatus;
    String transactionId;
    float exchangeRate;

    public Transfer(int senderId, int receiverId, Coin coin, float amount,Date transferDate, String transferStatus, String transactionId, float exchangeRate) {
        this.senderId = senderId;
        this.receiverId = receiverId;
        this.coin = coin;
        this.amount = amount;
        this.transferDate = transferDate;
        this.transferStatus = transferStatus;
        this.transactionId = transactionId;
        this.exchangeRate = exchangeRate;

    }
    public int getSenderId() {
        return senderId;

    }
    public int getReceiverId() {
        return receiverId;
    }
    public Coin getCoin() {
        return coin;
    }
    public float getAmount() {
        return amount;
    }
    public float getTransferFee() {
        return transferFee;
    }
    public Date getTransferDate() {
        return transferDate;
    }
    public String getTransferStatus() {
        return transferStatus;
    }
    public String getTransactionId() {
        return transactionId;
    }
    public float getExchangeRate() {
        return exchangeRate;
    }

    public void setAmount(float amount) {
        this.amount = amount;
    }
    public void setTransferFee(float transferFee) {
        this.transferFee = transferFee;
    }
    public void setTransferStatus(String transferStatus) {
        this.transferStatus = transferStatus;
    }
    public void setTransactionId(String transactionId) {
        this.transactionId = transactionId;
    }
    public void setExchangeRate(float exchangeRate) {
        this.exchangeRate = exchangeRate;
    }

}

